<!DOCTYPE html>
<html>
  <head>
    <title>Sample Account Front End</title>
  </head>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    const AccountBEEndpoint = '$ACCOUNT_SERVER';
    const approveTransaction = async () => {
      try {
        var url = window.location.toString();
        let params = new URL(document.location).searchParams;
        let of_transaction_id = params.get("of_transaction_id");

        const response = await axios.post(
          '$ACCOUNT_SERVER/approve-transaction',
          {
            openfabric_transaction_id: of_transaction_id,
          }
        );
        return response.data;
      } catch (errors) {
        console.error(errors);
      }
    };

    const denyTransaction = async () => {
      try {
        var url = window.location.toString();
        let params = new URL(document.location).searchParams;
        let of_transaction_id = params.get("of_transaction_id");
        const response = await axios.post(
          `$ACCOUNT_SERVER/deny-transaction`,
          {
            openfabric_transaction_id: of_transaction_id,
          }
        );
        return response.data;
      } catch (errors) {
        console.error(errors);
      }
    };
  </script>
  <body>
    <div
      style="flex: 1 1 0%; display: flex; place-content: space-around center; flex-direction: column; align-items: center; "
    >
      <h2>Sample Account FE</h2>
      <div
        style="flex: 1 1 0%; display: flex; place-content: space-around center; flex-direction: row; align-items: center; "
      >
        <button
          onclick="approveTransaction()"
          style="min-width: 64px;box-shadow: rgb(0 0 0 / 20%) 0px 3px 1px -2px, rgb(0 0 0 / 14%) 0px 2px 2px 0px, rgb(0 0 0 / 12%) 0px 1px 5px 0px;transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor: pointer; display:inline-flex; background-color:green; color: whitesmoke;border:none; border-radius:4px; padding: 6px 16px;"
        >
          Approve Transaction
        </button>
        <div style="width: 20%; height: 10px; "></div>
        <button
          onclick="denyTransaction()"
          style="min-width: 64px;box-shadow: rgb(0 0 0 / 20%) 0px 3px 1px -2px, rgb(0 0 0 / 14%) 0px 2px 2px 0px, rgb(0 0 0 / 12%) 0px 1px 5px 0px;transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor: pointer; display:inline-flex; background-color:red; color: whitesmoke; border:none; border-radius:4px; padding: 6px 16px;"
        >
          Cancel Transaction
        </button>
      </div>
    </div>
  </body>
</html>
